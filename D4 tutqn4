#include <stdio.h>
#include <stdlib.h>

struct node *head;
struct node *rear;
struct node {
    int data;
    struct node *next;
};

void print (struct node* new_head){
    if (new_head == NULL)
        return;
    printf("%d", new_head->data);
    print(new_head->next); //Recursive function
}

struct node* enqueue(int x){
    struct node *temp = (struct node*)malloc(sizeof(struct node)); //Dynamic allocation of new struct node.
        temp->next = NULL;
        temp->data = x;
    if (head == NULL){ //For the case that 
        head = temp;
        rear = temp;
        return head;
    }
    rear->next = temp;
    rear = temp;
    return head;
}
struct node* dequeue(){
    struct node *temp = head;
    if (head==NULL){
        return head;
    }
    else if (head->next == NULL) {
        head = NULL;
        rear = NULL;
    }
    else
        head = head->next;
    free(temp);
    return head;
}

main () {
    int userinput;
    int int1;
    head = NULL;
    rear = NULL;
    printf("1: Insert integer to queue.\n");
    printf("2: Remove integer from queue.\n");
    printf("3: Quit.\n");
    do {
        scanf("%d", &userinput);
    switch (userinput) {
    case 1:
        printf("Please input an integer: ");
        scanf("%d", &int1);
        enqueue(int1);
        print(head);
        puts("");
        break;
    case 2:
        dequeue();
        print(head);
        puts("");
        break;
    case 3:
        printf("Program is terminating...\n");
        break;
    default:
        printf("Please input 1-3.\n");
        break;
        }
    } while (userinput != 3);
    return 0;
}
